@if (loading) {
<div class="flex justify-center items-center min-h-screen bg-gray-100 dark:bg-black">
  <div class="animate-spin rounded-full h-16 w-16 border-b-4 border-primary"></div>
</div>
} @else {
@if (product) {
<div @fadeInUp class="min-h-screen bg-gray-100 dark:bg-black pt-10">
  <div class="container mx-auto px-4 py-8 md:py-16">
    <div class="grid grid-cols-1 lg:grid-cols-2 gap-4 items-center">
      <div
        class="relative w-full h-[70vh] flex items-center justify-center p-8 rounded-3xl overflow-hidden bg-white dark:bg-gray-900">
        <div class="absolute inset-0 bg-gray-200 dark:bg-slate-800 opacity-50"></div>
        <h1
          class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 text-[10vw] font-black text-gray-200/50 dark:text-white/10 select-none pointer-events-none">
          {{ product.title.split(' ')[0] }}</h1>
        <img [src]="product.image" [alt]="product.title"
          class="relative z-10 w-auto h-full max-h-[500px] object-contain drop-shadow-2xl transition-transform duration-500 hover:scale-105">
      </div>
      <div class="p-4 md:p-8">
        <p class="text-sm font-bold text-primary dark:text-lime-400 tracking-widest uppercase mb-2">{{ product.category
          }}</p>
        <h1 class="text-3xl sm:text-4xl lg:text-5xl font-black text-gray-900 dark:text-white leading-tight">{{
          product.title }}</h1>
        <p class="text-gray-600 dark:text-gray-400 mt-6 leading-relaxed text-lg">{{ product.description }}</p>
        <div class="flex flex-wrap items-center gap-6 mt-8">
          <p class="text-5xl font-extrabold text-gray-900 dark:text-white">${{ product.price }}</p>
          <div class="flex items-center gap-2 border-l-2 border-gray-200 dark:border-gray-700 pl-6">
            <div class="flex items-center text-yellow-400">
              <i class="fa-solid fa-star"></i>
            </div>
            <span class="text-lg font-bold text-gray-800 dark:text-white">{{ product.rating.rate }}</span>
            <span class="text-sm text-gray-500 dark:text-gray-400">({{ product.rating.count }} Reviews)</span>
          </div>
        </div>
        <div class="flex items-center gap-4 mt-10">
          <button (click)="addProductToCart()"
            class="flex-1 bg-primary dark:bg-lime-400 text-white dark:text-black font-bold py-4 px-8 rounded-full shadow-lg hover:scale-105 transition-transform duration-300 flex items-center justify-center gap-2">
            <i class="fa-solid fa-cart-plus"></i>
            <span>Add to Cart</span>
          </button>

        </div>
      </div>
    </div>
  </div>
</div>
}
}